<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="kosta.mapper.BoardMapper"> <!--네임스페이스는 매퍼경로와 같게 해줘야한다.  -->
	<cache />
	
	<insert id="insertBoard" parameterType="Board" >
		  insert into board(
         seq,title, writer, contents, regdate, hitcount
      )
      values(
         board_seq.nextval, #{title}, #{writer}, #{contents}, sysdate,0
      )
	</insert>
	
	<select id="listBoard" resultType="Board" parameterType="Search">
		select * from board
		<if test="area != null"><!--널이 아니라는 것은 검색을 했다는 뜻! -->
			<where>
				<foreach collection="area" item = "item" separator="or" open="(" close=")"><!-- area갯수에 따라 순회하는 수가 바뀐다!  --><!-- area에 title과 writer가 들어가있고 그 area를 item에 넣는다. -->
					<!--title LIKE %aa% or writer LIKE %aa% 요런 쿼리문을 만들고 싶다?  -->
					${item} LIKE #{searchkey}
				</foreach>
			</where>
		</if>
	</select>
	
	
	<select id="detailBoard" resultType="Board" parameterType="int">
		select*from board where seq = #{seq}
	</select>
	
	
	<update id="updateBoard" parameterType="Board">
		 	update board set
   		 		title = #{title},
   		 		contents = #{contents}
   		 		where
   		 			seq = #{seq}
	</update>
	
	<delete id="deleteBoard" parameterType="Board">
			delete from board where seq = #{seq}	
	</delete>
	
</mapper>















